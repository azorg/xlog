<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xlog

```go
import "github.com/azorg/xlog"
```

Пакет xlog реализует простую надстройку на стандартными логерами log и slog.

### Краткий экскурс

Логер slog включен в стандартную поставку Go начиная с версии 1.21 \("log/slog"\). До этого логер представлен экспериментальным пакетом "golang.org/x/exp/slog".

slog \- это "конструктор", "концепция", которая позволяет построить нужный именно Вам логгер в Go приложениях.

Пакет \`xlog\` \- это пример использования slog с возможными его расширениями \(имеется дополнительный tinted handler, для "пестрой" раскраски с помощью ANSI/Escape последовательностей, добавлены дополнительные уровни журналирования типа Trace, Notice, Critical, Fatal и т.п.\).

Заложены "мостики" единообразного поведения стандартного логгера "log" при работе через настроенный логгер slog/xlog.

В ряде случаев из всего пакета может быть полезна только одна функция Setup\(\), которая на основе структуры конфигурации может настроить нужное поведение глобального стандартного Go логера "log" и структурного логера "slog".

Можно предположить вариант создания структуры конфигурации "по умолчанию" с помощью функции NewConf\(\), внесения необходимых изменений \(управление уровнем журналирования например\) и последующим вызовом Setup\(\). Например так:

```
conf = xlog.NewConf() // создать структура конфигурации по умолчанию
conf.Level = "debug" // задать уровень отладки
conf.Tint = true // включить структурный цветной логер
conf.Src = true // включить в журнал имена файлов и номера строк исходных текстов
xlog.Setup(conf) // настроить глобальный логер (xlog + slog + log)
```

Структура Conf имеет JSON тега для возможности сериализации в/из JSON.

### Возможные конфигурации логера

```
| Slog  | JSON  | Tint  | Описание                        |
|:-----:|:-----:|:-----:|:--------------------------------|
| false | false | false | логер по умолчанию              |
| true  | false | false | структурный TextHandler         |
| x     | true  | false | структурный JSONHandler         |
| x     | x     | true  | структурный цветной TintHandler |
```

Если планируется настраивать только стандартный логер "log", то достаточно применения функций NewLog\(\)/SetupLog\(\) заместо Setup\(\).

Для настройки только структурного логера slog стоит использовать функцию NewSlog\(\). Функция получает структуру конфигурации и возвращает стандартный \`\*slog.Logger\`.

Для дополнительных "сахарных" функций реализована обёртка xlog.Logger, которая хранит указатель на структурный логер \`\*slog.Logger\`, xlog.Leveler и xlog.Writer, предоставляет дополнительные методы типа \`Infof\(\)\`, \`Trace\(\)\`, \`Fatalf\(\)\` и др. Имеются функции \- аналоги соответствующих методом для использования глобального логера. Через функции и методы SetLevel\(\)/SetLvl\(\) можно изменять уровень логирования "на лету".

### Структуры данных:

```
Conf - Обобщенная структура конфигурации логера, имеет JSON тэги
Logger - Структура/обёртка над slog для добавления методов типа Debugf/Noticef/Errorf/Trace
```

### Интерфейсы:

```
Xlogger - интерфейс к структуре Logger (приведен для наглядности API)
Leveler - интерфейс управления уровнем журналирования
Writer - обобщенный интерфейс для записи логов, влкючая функци ротации
```

### Функции настройки конфигурации:

```
NewConf() - заполнить обобщенную структуру конфигурации логгера значениями по умолчанию
SetupLog() - настроить стандартный логгер в соответствии с заданной структурой конфигурации
SetupLogEx() - настроить стандартный логгер с ротатором
SetupLogCustom() - настроить стандартный логгер с заданным io.Writer
NewLog() - создать стандартный логгер log.Logger в соответствии со структурой конфигурации
New() - создать структурированный логгер на основе заданной конфигурации
NewEx() - создать структурированный логгер с заданным ротаторм
NewCustom() - создать структурированный логгер с заданным io.Writer
NewSlog() - создать структурированный логгер slog.Logger в соответствии со структурой конфигурации
Setup() - настроить стандартный и структурированный логгеры по умолчанию в соответствии с структурой конфигурации
GetLevel()/SetLvl() - вернуть/установить текущий уровень журналирования
GetLevel()/SetLevel() - вернуть/установить текущий уровень журналирования (как slog.Level)
```

### Функции для работы с надстройкой Logger:

```
Default() - Создать логер на основе исходного slog.Deafult()
Current() - Вернуть текущий глобальный логер
Slog() - Вернуть текущий глобальный логер slog.Logger
X() - Создать логер на основе логера slog (для доступа к "сахарным" методам xlog)
```

### Методы для работы с Logger \\\(методы интерфейса Xlogger\\\):

```
With() - Создать дочерний логгер с дополнительными атрибутами
WithAttrs() - Создать дочерний логгер с дополнительными атрибутами
WithGroup() - Создать дочерний логгер с группировкой ключей
Slog() - Обратное преобразование *xlog.Logger -> *slog.Logger
SetDefault() - Установить логер как xlog по умолчанию
SetDefaultLogs() - Установить логер как log/slog/xlog по умолчанию
GetLevel() - получить текуший уровень журналирования (slog.Level)
SetLevel(l) - обновить текущий уровень журналирования (slog.Level)
GetLvl() - получить текущий уровень журналирования в виде строки
SetLvl() - обновить текущий уровень журналирования в виде строки
NewLog(prefix string) *log.Logger - вернуть стандартный логгер с префиксом
NewWriter(slog.Level) - создать io.Writer перенаправляемый в журнал
```

### Методы жля ротаци логов:

```
Rotable() - проверить возможна ли ротация
Rotate() - совершить ротацию логов (обычно по сигналу SIGHUP)
```

### Методы для использования xlog.Logger с дополнительными уровнями:

```
Log(level slog.Level, msg string, args ...any)
Flood(msg string, args ...any)
Trace(msg string, args ...any)
Debug(msg string, args ...any)
Info(msg string, args ...any)
Notice(msg string, args ...any)
Warn(msg string, args ...any)
Error(msg string, args ...any)
Crit(msg string, args ...any)
Fatal(msg string, args ...any)
Panic(msg string)

Logf(level slog.Level, format string, args ...any)
Floodf(format string, args ...any)
Tracef(format string, args ...any)
Debugf(format string, args ...any)
Infof(format string, args ...any)
Noticef(format string, args ...any)
Warnf(format string, args ...any)
Errorf(format string, args ...any)
Critf(format string, args ...any)
Fatalf(format string, args ...any)
```

Примечание: имеются аналогичные глобальные функции в пакете для использования глобального логера.

### Вспомогательные функции работы с уровнями журналирования:

```
ParseLvl(lvl string) slog.Level - получить уровень из строки типа "debug"
ParseLevel(level slog.Level) string - преобразовать уровень к строке
```

### Методы интерфейса Leveler:

```
Level() slog.Level - получить уровень журналирования (реализация интерфейса slog.Leveler)
Update(slog.Level) - обновить уровень журналирования
String() string - сформировать метку для журнала
ColorString() string - сформировать метку для журнала с ANSI/Escape подкраской
```

### Ротация логов

Используется популярный пакет https://github.com/natefinch/lumberjack

### Пути вывода журнала

Определено несколько вариантов вывода журнала.

1. В никуда \(если в Pipe="null", File=""\)
2. Только в pipe \(stdout/stderr\)
3. В кастомный io.Writer
4. В кастомный io.Writer и дополнительно в pipe
5. В заданный файл
6. В заданный файл и дополнительно в pipe
7. В заданный файл с ротацией
8. В заданный файл с ротацией и дополнительно в pipe

Интерфейс для направления журнала доступен в поле Writer структуры Logger.

Выбор пути определяется полями Pipe, File, Rotation.Enable в структуре конфигурации.

Для определения катомного io.Writer'а используются отдельные функции \(типа NewCustom\(\)\).

### Полезные ссылки на документацию

- https://go.dev/blog/slog \- Structured Logging with slog \(August 2023\)
- https://pkg.go.dev/log \- стандартный логер в Go
- https://pkg.go.dev/log/slog \- \`slog\` из стандартной поставки начиная с go\-1.21.0
- https://pkg.go.dev/golang.org/x/exp/slog \- \`slog\` для go\-1.20 и младше
- https://github.com/golang/example/blob/master/slog-handler-guide/README.md

### Как перейти с go1.20.x на go1.21.x и старше?

1. Убрать из секцию import "golang.org/x/exp/slog"
2. Добавить в секцию import "log/slog"
3. В файле "const.go" задать \`OLD\_SLOG\_FIX = false\`

Переход на "golang.org/x/exp/slog" \(для go\-1.20\) делается в обратной последовательности.

## Index

- [Constants](<#constants>)
- [func AddOpt\(opt \*Opt, conf \*Conf\)](<#AddOpt>)
- [func Close\(\) error](<#Close>)
- [func Crit\(msg string, args ...any\)](<#Crit>)
- [func Critf\(format string, args ...any\)](<#Critf>)
- [func CropFuncName\(function string\) string](<#CropFuncName>)
- [func Debug\(msg string, args ...any\)](<#Debug>)
- [func Debugf\(format string, args ...any\)](<#Debugf>)
- [func Env\(conf \*Conf, prefixOpt ...string\)](<#Env>)
- [func Err\(err error\) slog.Attr](<#Err>)
- [func Error\(msg string, args ...any\)](<#Error>)
- [func Errorf\(format string, args ...any\)](<#Errorf>)
- [func Fatal\(msg string, args ...any\)](<#Fatal>)
- [func Fatalf\(format string, args ...any\)](<#Fatalf>)
- [func FileMode\(mode string\) fs.FileMode](<#FileMode>)
- [func Flood\(msg string, args ...any\)](<#Flood>)
- [func Floodf\(format string, args ...any\)](<#Floodf>)
- [func GetFuncName\(skip int\) string](<#GetFuncName>)
- [func GetLevel\(\) slog.Level](<#GetLevel>)
- [func GetLvl\(\) string](<#GetLvl>)
- [func Info\(msg string, args ...any\)](<#Info>)
- [func Infof\(format string, args ...any\)](<#Infof>)
- [func Int\(key string, value int\) slog.Attr](<#Int>)
- [func Log\(level slog.Level, msg string, args ...any\)](<#Log>)
- [func Logf\(level slog.Level, format string, args ...any\)](<#Logf>)
- [func NewLog\(conf Conf\) \*log.Logger](<#NewLog>)
- [func NewSlog\(conf Conf\) \*slog.Logger](<#NewSlog>)
- [func NewWriter\(level slog.Level\) io.Writer](<#NewWriter>)
- [func Notice\(msg string, args ...any\)](<#Notice>)
- [func Noticef\(format string, args ...any\)](<#Noticef>)
- [func Panic\(msg string\)](<#Panic>)
- [func ParseLevel\(level slog.Level\) string](<#ParseLevel>)
- [func ParseLvl\(lvl string\) slog.Level](<#ParseLvl>)
- [func RemoveGoExt\(file string\) string](<#RemoveGoExt>)
- [func Rotable\(\) bool](<#Rotable>)
- [func Rotate\(\) error](<#Rotate>)
- [func SetLevel\(level slog.Level\)](<#SetLevel>)
- [func SetLvl\(level string\)](<#SetLvl>)
- [func Setup\(conf Conf\)](<#Setup>)
- [func SetupLog\(logger \*log.Logger, conf Conf\)](<#SetupLog>)
- [func SetupLogCustom\(logger \*log.Logger, conf Conf, writer io.Writer\)](<#SetupLogCustom>)
- [func SetupLogEx\(logger \*log.Logger, conf Conf, writer io.Writer\)](<#SetupLogEx>)
- [func Slog\(\) \*slog.Logger](<#Slog>)
- [func String\(key, value string\) slog.Attr](<#String>)
- [func StringToBool\(s string\) bool](<#StringToBool>)
- [func StringToInt\(s string\) int](<#StringToInt>)
- [func TimeFormat\(alias string\) \(format string, ok bool\)](<#TimeFormat>)
- [func Trace\(msg string, args ...any\)](<#Trace>)
- [func Tracef\(format string, args ...any\)](<#Tracef>)
- [func Warn\(msg string, args ...any\)](<#Warn>)
- [func Warnf\(format string, args ...any\)](<#Warnf>)
- [type Buffer](<#Buffer>)
  - [func NewBuffer\(\) \*Buffer](<#NewBuffer>)
  - [func \(b \*Buffer\) Free\(\)](<#Buffer.Free>)
  - [func \(b \*Buffer\) String\(\) string](<#Buffer.String>)
  - [func \(b \*Buffer\) Write\(bytes \[\]byte\) int](<#Buffer.Write>)
  - [func \(b \*Buffer\) WriteByte\(char byte\) error](<#Buffer.WriteByte>)
  - [func \(b \*Buffer\) WriteString\(str string\) int](<#Buffer.WriteString>)
  - [func \(b \*Buffer\) WriteStringIf\(ok bool, str string\) int](<#Buffer.WriteStringIf>)
- [type Conf](<#Conf>)
  - [func NewConf\(\) Conf](<#NewConf>)
- [type Level](<#Level>)
  - [func \(lp \*Level\) ColorString\(\) string](<#Level.ColorString>)
  - [func \(lp \*Level\) Level\(\) slog.Level](<#Level.Level>)
  - [func \(lp \*Level\) String\(\) string](<#Level.String>)
  - [func \(lp \*Level\) Update\(level slog.Level\)](<#Level.Update>)
- [type Leveler](<#Leveler>)
- [type Logger](<#Logger>)
  - [func Current\(\) \*Logger](<#Current>)
  - [func Default\(\) \*Logger](<#Default>)
  - [func New\(conf Conf\) \*Logger](<#New>)
  - [func NewCustom\(conf Conf, writer io.Writer\) \*Logger](<#NewCustom>)
  - [func NewEx\(conf Conf, writer Writer\) \*Logger](<#NewEx>)
  - [func X\(logger \*slog.Logger\) \*Logger](<#X>)
  - [func \(x \*Logger\) Crit\(msg string, args ...any\)](<#Logger.Crit>)
  - [func \(x \*Logger\) Critf\(format string, args ...any\)](<#Logger.Critf>)
  - [func \(x \*Logger\) Debug\(msg string, args ...any\)](<#Logger.Debug>)
  - [func \(x \*Logger\) Debugf\(format string, args ...any\)](<#Logger.Debugf>)
  - [func \(x \*Logger\) Error\(msg string, args ...any\)](<#Logger.Error>)
  - [func \(x \*Logger\) Errorf\(format string, args ...any\)](<#Logger.Errorf>)
  - [func \(x \*Logger\) Fatal\(msg string, args ...any\)](<#Logger.Fatal>)
  - [func \(x \*Logger\) Fatalf\(format string, args ...any\)](<#Logger.Fatalf>)
  - [func \(x \*Logger\) Flood\(msg string, args ...any\)](<#Logger.Flood>)
  - [func \(x \*Logger\) Floodf\(format string, args ...any\)](<#Logger.Floodf>)
  - [func \(x \*Logger\) GetLevel\(\) slog.Level](<#Logger.GetLevel>)
  - [func \(x \*Logger\) GetLvl\(\) string](<#Logger.GetLvl>)
  - [func \(x \*Logger\) Info\(msg string, args ...any\)](<#Logger.Info>)
  - [func \(x \*Logger\) Infof\(format string, args ...any\)](<#Logger.Infof>)
  - [func \(x \*Logger\) Log\(level slog.Level, msg string, args ...any\)](<#Logger.Log>)
  - [func \(x \*Logger\) Logf\(level slog.Level, format string, args ...any\)](<#Logger.Logf>)
  - [func \(x \*Logger\) NewLog\(prefix string\) \*log.Logger](<#Logger.NewLog>)
  - [func \(x \*Logger\) NewWriter\(level slog.Level\) io.Writer](<#Logger.NewWriter>)
  - [func \(x \*Logger\) Notice\(msg string, args ...any\)](<#Logger.Notice>)
  - [func \(x \*Logger\) Noticef\(format string, args ...any\)](<#Logger.Noticef>)
  - [func \(x \*Logger\) Panic\(msg string\)](<#Logger.Panic>)
  - [func \(x \*Logger\) SetDefault\(\)](<#Logger.SetDefault>)
  - [func \(x \*Logger\) SetDefaultLogs\(\)](<#Logger.SetDefaultLogs>)
  - [func \(x \*Logger\) SetLevel\(level slog.Level\)](<#Logger.SetLevel>)
  - [func \(x \*Logger\) SetLvl\(level string\)](<#Logger.SetLvl>)
  - [func \(x \*Logger\) Slog\(\) \*slog.Logger](<#Logger.Slog>)
  - [func \(x \*Logger\) Trace\(msg string, args ...any\)](<#Logger.Trace>)
  - [func \(x \*Logger\) Tracef\(format string, args ...any\)](<#Logger.Tracef>)
  - [func \(x \*Logger\) Warn\(msg string, args ...any\)](<#Logger.Warn>)
  - [func \(x \*Logger\) Warnf\(format string, args ...any\)](<#Logger.Warnf>)
  - [func \(x \*Logger\) With\(args ...any\) \*Logger](<#Logger.With>)
  - [func \(x \*Logger\) WithAttrs\(attrs \[\]slog.Attr\) \*Logger](<#Logger.WithAttrs>)
  - [func \(x \*Logger\) WithGroup\(name string\) \*Logger](<#Logger.WithGroup>)
- [type Opt](<#Opt>)
  - [func NewOpt\(\) \*Opt](<#NewOpt>)
- [type RotateOpt](<#RotateOpt>)
- [type TintHandler](<#TintHandler>)
  - [func NewTintHandler\(w io.Writer, opts \*TintOptions\) \*TintHandler](<#NewTintHandler>)
  - [func \(h \*TintHandler\) Enabled\(\_ context.Context, level slog.Level\) bool](<#TintHandler.Enabled>)
  - [func \(h \*TintHandler\) Format\(r slog.Record\) string](<#TintHandler.Format>)
  - [func \(h \*TintHandler\) Handle\(ctx context.Context, r slog.Record\) error](<#TintHandler.Handle>)
  - [func \(h \*TintHandler\) WithAttrs\(attrs \[\]slog.Attr\) slog.Handler](<#TintHandler.WithAttrs>)
  - [func \(h \*TintHandler\) WithGroup\(name string\) slog.Handler](<#TintHandler.WithGroup>)
- [type TintOptions](<#TintOptions>)
- [type Writer](<#Writer>)
- [type Xlogger](<#Xlogger>)


## Constants

<a name="AnsiReset"></a>ANSI modes

```go
const (
    AnsiReset            = "\033[0m"        // All attributes off
    AnsiFaint            = "\033[2m"        // Decreased intensity
    AnsiResetFaint       = "\033[22m"       // Normal color (reset faint)
    AnsiRed              = "\033[31m"       // Red
    AnsiGreen            = "\033[32m"       // Green
    AnsiYellow           = "\033[33m"       // Yellow
    AnsiBlue             = "\033[34m"       // blue
    AnsiMagenta          = "\033[35m"       // Magenta
    AnsiCyan             = "\033[36m"       // Cyan
    AnsiWhile            = "\033[37m"       // While
    AnsiBrightRed        = "\033[91m"       // Bright Red
    AnsiBrightRedNoFaint = "\033[91;22m"    // Bright Red and normal intensity
    AnsiBrightGreen      = "\033[92m"       // Bright Green
    AnsiBrightYellow     = "\033[93m"       // Bright Yellow
    AnsiBrightBlue       = "\033[94m"       // Bright Blue
    AnsiBrightMagenta    = "\033[95m"       // Bright Magenta
    AnsiBrightCyan       = "\033[96m"       // Bright Cyan
    AnsiBrightWight      = "\033[97m"       // Bright White
    AnsiBrightRedFaint   = "\033[91;2m"     // Bright Red and decreased intensity
    AnsiBlackOnWhite     = "\033[30;107;1m" // Black on Bright White background
    AnsiBlueOnWhite      = "\033[34;47;1m"  // Blue on Bright White background
    AnsiWhiteOnMagenta   = "\033[37;45;1m"  // Bright White on Magenta background
    AnsiWhiteOnRed       = "\033[37;41;1m"  // White on Red background
)
```

<a name="AnsiFlood"></a>Level keys ANSI colors

```go
const (
    AnsiFlood    = AnsiGreen
    AnsiTrace    = AnsiBrightBlue
    AnsiDebug    = AnsiBrightCyan
    AnsiInfo     = AnsiBrightGreen
    AnsiNotice   = AnsiBrightMagenta
    AnsiWarn     = AnsiBrightYellow
    AnsiError    = AnsiBrightRed
    AnsiCritical = AnsiWhiteOnRed
    AnsiFatal    = AnsiWhiteOnMagenta
    AnsiPanic    = AnsiBlackOnWhite
)
```

<a name="AnsiTime"></a>Log part colors

```go
const (
    AnsiTime   = AnsiYellow
    AnsiSource = AnsiMagenta
    AnsiKey    = AnsiCyan
    AnsiErrKey = AnsiRed
    AnsiErrVal = AnsiBrightRed
)
```

<a name="PIPE"></a>Default logger configure

```go
const (
    PIPE      = ""      // log pipe ("stdout", "stderr", "null" or "")
    FILE      = ""      // log file path or ""
    FILE_MODE = "0640"  // log file mode
    LEVEL     = LvlInfo // log level (flood/trace/debug/info/warn/error/critical/fatal/silent)
    SLOG      = false   // use slog instead standard log (slog.TextHandler)
    JSON      = false   // use JSON log (slog.JSONHandelr)
    TINT      = false   // use tinted (colorized) log (xlog.TintHandler)
    TIME      = false   // add time stamp
    TIME_US   = false   // us time stamp (only if SLOG=false)
    TIME_TINT = ""      // tinted log time format (~time.Kitchen, "15:04:05.999")
    SRC       = false   // log file name and line number
    SRC_LONG  = false   // log long file path (directory + file name)
    SRC_FUNC  = false   // add function name to log
    NO_EXT    = false   // remove ".go" extension from file name
    NO_LEVEL  = false   // don't print log level tag to log (~level="INFO")
    NO_COLOR  = false   // don't use tinted colors (only if Tint=true)
    PREFIX    = ""      // add prefix to standard log (SLOG=false)
    ADD_KEY   = ""      // add key to structured log (SLOG=true)
    ADD_VALUE = ""      // add value to structured log (SLOG=true

    // Log rotate
    ROTATE_ENABLE      = true
    ROTATE_MAX_SIZE    = 10 // megabytes
    ROTATE_MAX_AGE     = 10 // days
    ROTATE_MAX_BACKUPS = 100
    ROTATE_LOCAL_TIME  = true
    ROTATE_COMPRESS    = true
)
```

<a name="ADD_LEVELS"></a>

```go
const (
    // Add addition log level marks (TRACE/NOTICE/FATAL/PANIC)
    ADD_LEVELS = true

    // Log file mode in error configuration
    DEFAULT_FILE_MODE = 0600 // read/write only for owner for more secure

    // Set false for go > 1.21 with log/slog
    OLD_SLOG_FIX = false // runtime.Version() < go1.21.0

    // Pretty alignment time format in tinted handler (add zeros to end)
    TINT_ALIGN_TIME = true
)
```

<a name="LevelFlood"></a>Log levels delivered from slog.Level

```go
const (
    LevelFlood    = slog.Level(-12) // FLOOD    (-12)
    LevelTrace    = slog.Level(-8)  // TRACE    (-8)
    LevelDebug    = slog.LevelDebug // DEBUG    (-4)
    LevelInfo     = slog.LevelInfo  // INFO     (0)
    LevelNotice   = slog.Level(2)   // NOTICE   (2)
    LevelWarn     = slog.LevelWarn  // WARN     (4)
    LevelError    = slog.LevelError // ERROR    (8)
    LevelCritical = slog.Level(12)  // CRITICAL (12)
    LevelFatal    = slog.Level(16)  // FATAL    (16)
    LevelPanic    = slog.Level(18)  // PANIC    (18)
    LevelSilent   = slog.Level(20)  // SILENT   (20)
)
```

<a name="LvlFlood"></a>Log level as string for setup

```go
const (
    LvlFlood    = "flood"
    LvlTrace    = "trace"
    LvlDebug    = "debug"
    LvlInfo     = "info"
    LvlNotice   = "notice"
    LvlWarn     = "warn"
    LvlError    = "error"
    LvlCritical = "critical"
    LvlFatal    = "fatal"
    LvlPanic    = "panic"
    LvlSilent   = "silent"
)
```

<a name="LabelFlood"></a>Log level tags

```go
const (
    LabelFlood    = "FLOOD"
    LabelTrace    = "TRACE"
    LabelDebug    = "DEBUG"
    LabelInfo     = "INFO"
    LabelNotice   = "NOTICE"
    LabelWarn     = "WARN"
    LabelError    = "ERROR"
    LabelCritical = "CRITICAL"
    LabelFatal    = "FATAL"
    LabelPanic    = "PANIC"
    LabelSilent   = "SILENT"
)
```

<a name="TIME_OFF"></a>Time formats

```go
const (
    // Time OFF
    TIME_OFF = ""

    // Default time format of standard logger
    STD_TIME  = "2006/01/02 15:04:05"
    DATE_TIME = time.DateTime // "2006-01-02 15:04:05"

    // Default time format of standard logger + milliseconds
    STD_TIME_MS  = "2006/01/02 15:04:05.999"
    DATE_TIME_MS = "2006-01-02 15:04:05.999"

    // Default time format of standard logger + microseconds
    STD_TIME_US  = "2006/01/02 15:04:05.999999"
    DATE_TIME_US = "2006-01-02 15:04:05.999999"

    // RFC3339 time format + nanoseconds (slog.TextHandler by default)
    RFC3339Nano = time.RFC3339Nano // "2006-01-02T15:04:05.999999999Z07:00"

    // RFC3339 time format + microseconds
    RFC3339Micro = "2006-01-02T15:04:05.999999Z07:00"

    // RFC3339 time format + milliseconds
    RFC3339Milli = "2006-01-02T15:04:05.999Z07:00"

    // Time only format + microseconds
    TimeOnlyMicro = "15:04:05.999999"

    // Time only format + milliseconds
    TimeOnlyMilli = "15:04:05.999"

    // Time format for file names (no spaces, no ":", sorted by date/time)
    FILE_TIME_FORMAT = "2006-01-02_15.04.05"

    // Compromise time format (no spaces, no ":")
    COMPROMISE_TIME_FORMAT_DS = "2006-01-02_15.04.05.9"
    COMPROMISE_TIME_FORMAT    = "2006-01-02_15.04.05.999"
    COMPROMISE_TIME_FORMAT_US = "2006-01-02_15.04.05.999999"
    COMPROMISE_TIME_FORMAT_NS = "2006-01-02_15.04.05.999999999"

    // Digital clock
    CLOCK_TIME_FORMAT = "15:04"

    // Default (recommended) time format wuth milliseconds
    DEFAULT_TIME_FORMAT = STD_TIME_MS

    // Default (recommended) time format with microseconds
    DEFAULT_TIME_FORMAT_US = STD_TIME_US
)
```

<a name="BUFFER_DEFAULT_CAP"></a>

```go
const BUFFER_DEFAULT_CAP = 1 << 10 // 1K
```

<a name="BUFFER_MAX_SIZE"></a>

```go
const BUFFER_MAX_SIZE = 16 << 10 // 16K
```

<a name="DEFAULT_LEVEL"></a>

```go
const DEFAULT_LEVEL = LevelInfo
```

<a name="DEFAULT_PREFIX"></a>Default prefix

```go
const DEFAULT_PREFIX = "LOG_"
```

<a name="ERR_KEY"></a>

```go
const ERR_KEY = "err"
```

<a name="NEW_LINE"></a>New line sequence

```go
const NEW_LINE = '\n'
```

<a name="AddOpt"></a>
## func [AddOpt](<https://github.com/azorg/xlog/blob/main/flag.go#L81>)

```go
func AddOpt(opt *Opt, conf *Conf)
```

Add parsed command line options to logger config

<a name="Close"></a>
## func [Close](<https://github.com/azorg/xlog/blob/main/logger.go#L130>)

```go
func Close() error
```

Close current log file

<a name="Crit"></a>
## func [Crit](<https://github.com/azorg/xlog/blob/main/logger.go#L230>)

```go
func Crit(msg string, args ...any)
```

Crit logs at LevelCritical with default logger

<a name="Critf"></a>
## func [Critf](<https://github.com/azorg/xlog/blob/main/logger.go#L344>)

```go
func Critf(format string, args ...any)
```

Critf logs at LevelCritical as standard logger with default logger

<a name="CropFuncName"></a>
## func [CropFuncName](<https://github.com/azorg/xlog/blob/main/misc.go#L24>)

```go
func CropFuncName(function string) string
```

Crop function name

<a name="Debug"></a>
## func [Debug](<https://github.com/azorg/xlog/blob/main/logger.go#L180>)

```go
func Debug(msg string, args ...any)
```

Debug logs at LevelDebug with default logger

<a name="Debugf"></a>
## func [Debugf](<https://github.com/azorg/xlog/blob/main/logger.go#L294>)

```go
func Debugf(format string, args ...any)
```

Debugf logs at LevelDebug as standard logger with default logger

<a name="Env"></a>
## func [Env](<https://github.com/azorg/xlog/blob/main/env.go#L42>)

```go
func Env(conf *Conf, prefixOpt ...string)
```

Add settings from environment variables

<a name="Err"></a>
## func [Err](<https://github.com/azorg/xlog/blob/main/logger.go#L382>)

```go
func Err(err error) slog.Attr
```

Err\(\) returns slog.Attr with "err" key if err \!= nil

<a name="Error"></a>
## func [Error](<https://github.com/azorg/xlog/blob/main/logger.go#L220>)

```go
func Error(msg string, args ...any)
```

Error logs at LevelError with default logger

<a name="Errorf"></a>
## func [Errorf](<https://github.com/azorg/xlog/blob/main/logger.go#L334>)

```go
func Errorf(format string, args ...any)
```

Errorf logs at LevelError as standard logger with default logger

<a name="Fatal"></a>
## func [Fatal](<https://github.com/azorg/xlog/blob/main/logger.go#L241>)

```go
func Fatal(msg string, args ...any)
```

Fatal logs at LevelFatal with default logger and os.Exit\(1\)

<a name="Fatalf"></a>
## func [Fatalf](<https://github.com/azorg/xlog/blob/main/logger.go#L356>)

```go
func Fatalf(format string, args ...any)
```

Fatalf logs at LevelFatal as standard logger with default logger and os.Exit\(1\)

<a name="FileMode"></a>
## func [FileMode](<https://github.com/azorg/xlog/blob/main/misc.go#L44>)

```go
func FileMode(mode string) fs.FileMode
```

Convert file mode string \(oct like "0640"\) to fs.FileMode

<a name="Flood"></a>
## func [Flood](<https://github.com/azorg/xlog/blob/main/logger.go#L160>)

```go
func Flood(msg string, args ...any)
```

Flood logs at LevelFlood with default logger

<a name="Floodf"></a>
## func [Floodf](<https://github.com/azorg/xlog/blob/main/logger.go#L274>)

```go
func Floodf(format string, args ...any)
```

Floodf logs at LevelFlood as standard logger with default logger

<a name="GetFuncName"></a>
## func [GetFuncName](<https://github.com/azorg/xlog/blob/main/misc.go#L37>)

```go
func GetFuncName(skip int) string
```

Return function name

<a name="GetLevel"></a>
## func [GetLevel](<https://github.com/azorg/xlog/blob/main/level.go#L175>)

```go
func GetLevel() slog.Level
```

Return current log level as int \(slog.Level\)

<a name="GetLvl"></a>
## func [GetLvl](<https://github.com/azorg/xlog/blob/main/level.go#L185>)

```go
func GetLvl() string
```

Return current log level as string

<a name="Info"></a>
## func [Info](<https://github.com/azorg/xlog/blob/main/logger.go#L190>)

```go
func Info(msg string, args ...any)
```

Info logs at LevelInfo with default logger

<a name="Infof"></a>
## func [Infof](<https://github.com/azorg/xlog/blob/main/logger.go#L304>)

```go
func Infof(format string, args ...any)
```

Infof logs at LevelInfo as standard logger with default logger

<a name="Int"></a>
## func [Int](<https://github.com/azorg/xlog/blob/main/logger.go#L398>)

```go
func Int(key string, value int) slog.Attr
```

Integer return slog.Attr if key \!= "" and value \!= 0

<a name="Log"></a>
## func [Log](<https://github.com/azorg/xlog/blob/main/logger.go#L150>)

```go
func Log(level slog.Level, msg string, args ...any)
```

Log logs at given level with default logger

<a name="Logf"></a>
## func [Logf](<https://github.com/azorg/xlog/blob/main/logger.go#L264>)

```go
func Logf(level slog.Level, format string, args ...any)
```

Logf logs at given level as standard logger with default logger

<a name="NewLog"></a>
## func [NewLog](<https://github.com/azorg/xlog/blob/main/setup.go#L64>)

```go
func NewLog(conf Conf) *log.Logger
```

Create new configured standard logger

<a name="NewSlog"></a>
## func [NewSlog](<https://github.com/azorg/xlog/blob/main/setup.go#L208>)

```go
func NewSlog(conf Conf) *slog.Logger
```

Create new configured structured logger \(default/text/JSON/Tinted handler\)

<a name="NewWriter"></a>
## func [NewWriter](<https://github.com/azorg/xlog/blob/main/logger.go#L370>)

```go
func NewWriter(level slog.Level) io.Writer
```

Create log io.Writer based on current logger

<a name="Notice"></a>
## func [Notice](<https://github.com/azorg/xlog/blob/main/logger.go#L200>)

```go
func Notice(msg string, args ...any)
```

Notice logs at LevelNotice with default logger

<a name="Noticef"></a>
## func [Noticef](<https://github.com/azorg/xlog/blob/main/logger.go#L314>)

```go
func Noticef(format string, args ...any)
```

Noticef logs at LevelNotice as standard logger with default logger

<a name="Panic"></a>
## func [Panic](<https://github.com/azorg/xlog/blob/main/logger.go#L253>)

```go
func Panic(msg string)
```

Panic logs at LevelPanic with default logger and panic

<a name="ParseLevel"></a>
## func [ParseLevel](<https://github.com/azorg/xlog/blob/main/level.go#L166>)

```go
func ParseLevel(level slog.Level) string
```

Parse Level \(num to string: Level \-\> Lvl\)

<a name="ParseLvl"></a>
## func [ParseLvl](<https://github.com/azorg/xlog/blob/main/level.go#L152>)

```go
func ParseLvl(lvl string) slog.Level
```

Parse Lvl \(string to num: Lvl \-\> Level\)

<a name="RemoveGoExt"></a>
## func [RemoveGoExt](<https://github.com/azorg/xlog/blob/main/misc.go#L16>)

```go
func RemoveGoExt(file string) string
```

Remove ".go" extension from source file name

<a name="Rotable"></a>
## func [Rotable](<https://github.com/azorg/xlog/blob/main/logger.go#L135>)

```go
func Rotable() bool
```

Check current log rotation possible

<a name="Rotate"></a>
## func [Rotate](<https://github.com/azorg/xlog/blob/main/logger.go#L140>)

```go
func Rotate() error
```

Rotate current log file

<a name="SetLevel"></a>
## func [SetLevel](<https://github.com/azorg/xlog/blob/main/level.go#L180>)

```go
func SetLevel(level slog.Level)
```

Set current log level as int \(slog.Level\)

<a name="SetLvl"></a>
## func [SetLvl](<https://github.com/azorg/xlog/blob/main/level.go#L190>)

```go
func SetLvl(level string)
```

Set current log level as string

<a name="Setup"></a>
## func [Setup](<https://github.com/azorg/xlog/blob/main/setup.go#L214>)

```go
func Setup(conf Conf)
```

Setup standart and structured default global loggers

<a name="SetupLog"></a>
## func [SetupLog](<https://github.com/azorg/xlog/blob/main/setup.go#L53>)

```go
func SetupLog(logger *log.Logger, conf Conf)
```

Setup standard simple logger with output to pipe/file with rotation

<a name="SetupLogCustom"></a>
## func [SetupLogCustom](<https://github.com/azorg/xlog/blob/main/setup.go#L59>)

```go
func SetupLogCustom(logger *log.Logger, conf Conf, writer io.Writer)
```

Setup standard simple logger with output to custom io.Writer

<a name="SetupLogEx"></a>
## func [SetupLogEx](<https://github.com/azorg/xlog/blob/main/setup.go#L28>)

```go
func SetupLogEx(logger *log.Logger, conf Conf, writer io.Writer)
```

Setup standard simple logger with custom io.Writer

<a name="Slog"></a>
## func [Slog](<https://github.com/azorg/xlog/blob/main/logger.go#L47>)

```go
func Slog() *slog.Logger
```

Return current \*slog.Logger

<a name="String"></a>
## func [String](<https://github.com/azorg/xlog/blob/main/logger.go#L390>)

```go
func String(key, value string) slog.Attr
```

String return slog.Attr if key \!= "" and value \!= ""

<a name="StringToBool"></a>
## func [StringToBool](<https://github.com/azorg/xlog/blob/main/env.go#L18>)

```go
func StringToBool(s string) bool
```

String to bool converter

```
true:  true, True, yes, YES, on, 1, 2
false: false, FALSE, no, Off, 0, "Abra-Cadabra"
```

<a name="StringToInt"></a>
## func [StringToInt](<https://github.com/azorg/xlog/blob/main/env.go#L33>)

```go
func StringToInt(s string) int
```

String to int converter

<a name="TimeFormat"></a>
## func [TimeFormat](<https://github.com/azorg/xlog/blob/main/time.go#L121>)

```go
func TimeFormat(alias string) (format string, ok bool)
```

Return time format by alias

<a name="Trace"></a>
## func [Trace](<https://github.com/azorg/xlog/blob/main/logger.go#L170>)

```go
func Trace(msg string, args ...any)
```

Trace logs at LevelTrace with default logger

<a name="Tracef"></a>
## func [Tracef](<https://github.com/azorg/xlog/blob/main/logger.go#L284>)

```go
func Tracef(format string, args ...any)
```

Tracef logs at LevelTrace as standard logger with default logger

<a name="Warn"></a>
## func [Warn](<https://github.com/azorg/xlog/blob/main/logger.go#L210>)

```go
func Warn(msg string, args ...any)
```

Warn logs at LevelWarn with default logger

<a name="Warnf"></a>
## func [Warnf](<https://github.com/azorg/xlog/blob/main/logger.go#L324>)

```go
func Warnf(format string, args ...any)
```

Warnf logs at LevelWarn as standard logger with default logger

<a name="Buffer"></a>
## type [Buffer](<https://github.com/azorg/xlog/blob/main/buffer.go#L12>)



```go
type Buffer []byte
```

<a name="NewBuffer"></a>
### func [NewBuffer](<https://github.com/azorg/xlog/blob/main/buffer.go#L21>)

```go
func NewBuffer() *Buffer
```



<a name="Buffer.Free"></a>
### func \(\*Buffer\) [Free](<https://github.com/azorg/xlog/blob/main/buffer.go#L25>)

```go
func (b *Buffer) Free()
```



<a name="Buffer.String"></a>
### func \(\*Buffer\) [String](<https://github.com/azorg/xlog/blob/main/buffer.go#L55>)

```go
func (b *Buffer) String() string
```



<a name="Buffer.Write"></a>
### func \(\*Buffer\) [Write](<https://github.com/azorg/xlog/blob/main/buffer.go#L33>)

```go
func (b *Buffer) Write(bytes []byte) int
```



<a name="Buffer.WriteByte"></a>
### func \(\*Buffer\) [WriteByte](<https://github.com/azorg/xlog/blob/main/buffer.go#L38>)

```go
func (b *Buffer) WriteByte(char byte) error
```



<a name="Buffer.WriteString"></a>
### func \(\*Buffer\) [WriteString](<https://github.com/azorg/xlog/blob/main/buffer.go#L43>)

```go
func (b *Buffer) WriteString(str string) int
```



<a name="Buffer.WriteStringIf"></a>
### func \(\*Buffer\) [WriteStringIf](<https://github.com/azorg/xlog/blob/main/buffer.go#L48>)

```go
func (b *Buffer) WriteStringIf(ok bool, str string) int
```



<a name="Conf"></a>
## type [Conf](<https://github.com/azorg/xlog/blob/main/conf.go#L6-L29>)

Logger configure structure

```go
type Conf struct {
    Pipe     string `json:"pipe"`      // log pipe ("stdout", "stderr" or "null" / "")
    File     string `json:"file"`      // log file path or ""
    FileMode string `json:"file-mode"` // log file mode
    Level    string `json:"level"`     // log level (trace/debug/info/warn/error/fatal/silent)
    Slog     bool   `json:"slog"`      // use slog instead standard log (slog.TextHandler)
    JSON     bool   `json:"json"`      // use JSON log (slog.JSONHandler)
    Tint     bool   `json:"tint"`      // use tinted (colorized) log (xlog.TintHandler)
    Time     bool   `json:"time"`      // add timestamp
    TimeUS   bool   `json:"time-us"`   // use timestamp in microseconds
    TimeTint string `json:"time-tint"` // tinted log time format (like time.Kitchen, time.DateTime)
    Src      bool   `json:"src"   `    // log file name and line number
    SrcLong  bool   `json:"src-long"`  // log long file path (directory + file name)
    SrcFunc  bool   `json:"src-func"`  // add function name to log
    NoExt    bool   `json:"no-ext"`    // remove ".go" extension from file name
    NoLevel  bool   `json:"no-level"`  // don't print log level tag to log (~level="INFO")
    NoColor  bool   `json:"no-color"`  // disable tinted colors (only if Tint=true)
    Prefix   string `json:"preifix"`   // add prefix to standard log (log=false)
    AddKey   string `json:"add-key"`   // add key to structured log (Slog=true)
    AddValue string `json:"add-value"` // add value to structured log (Slog=true

    // Log rotate options
    Rotate RotateOpt `json:"rotate"`
}
```

<a name="NewConf"></a>
### func [NewConf](<https://github.com/azorg/xlog/blob/main/conf.go#L62>)

```go
func NewConf() Conf
```

Create default logger structure

<a name="Level"></a>
## type [Level](<https://github.com/azorg/xlog/blob/main/level.go#L18>)

xlog level delivered from slog.Level, implements slog.Leveler interface

```go
type Level slog.Level
```

<a name="Level.ColorString"></a>
### func \(\*Level\) [ColorString](<https://github.com/azorg/xlog/blob/main/color.go#L63>)

```go
func (lp *Level) ColorString() string
```

ColorString\(\) returns a color label for the level

<a name="Level.Level"></a>
### func \(\*Level\) [Level](<https://github.com/azorg/xlog/blob/main/level.go#L110>)

```go
func (lp *Level) Level() slog.Level
```

Level\(\) returns log level \(Level\(\) \- implements slog.Leveler interface\)

<a name="Level.String"></a>
### func \(\*Level\) [String](<https://github.com/azorg/xlog/blob/main/level.go#L116>)

```go
func (lp *Level) String() string
```

String\(\) returns a label for the level

<a name="Level.Update"></a>
### func \(\*Level\) [Update](<https://github.com/azorg/xlog/blob/main/level.go#L113>)

```go
func (lp *Level) Update(level slog.Level)
```

Update log level

<a name="Leveler"></a>
## type [Leveler](<https://github.com/azorg/xlog/blob/main/level.go#L22-L27>)

xlog leveler interface \(slog.Leveler \+ Update\(\) \+ String\(\)/ColorString\(\) methods\)

```go
type Leveler interface {
    Level() slog.Level   // get log level as slog.Level (implements a slog.Leveler interface)
    Update(slog.Level)   // update log level
    String() string      // get log level as label
    ColorString() string // get log level as color label
}
```

<a name="Logger"></a>
## type [Logger](<https://github.com/azorg/xlog/blob/main/logger.go#L18-L22>)

Logger wrapper structure

```go
type Logger struct {
    *slog.Logger        // standard slog logger
    Leveler      *Level // current log level with Leveler interface
    Writer              // log writer (rotator) interface
}
```

<a name="Current"></a>
### func [Current](<https://github.com/azorg/xlog/blob/main/logger.go#L44>)

```go
func Current() *Logger
```

Return current Logger

<a name="Default"></a>
### func [Default](<https://github.com/azorg/xlog/blob/main/logger.go#L34>)

```go
func Default() *Logger
```

Create logger based on default slog.Logger

<a name="New"></a>
### func [New](<https://github.com/azorg/xlog/blob/main/setup.go#L196>)

```go
func New(conf Conf) *Logger
```

Create new configured structured logger with output to pipe/file with rotation

<a name="NewCustom"></a>
### func [NewCustom](<https://github.com/azorg/xlog/blob/main/setup.go#L203>)

```go
func NewCustom(conf Conf, writer io.Writer) *Logger
```

Create new configured structured logger \(default/text/JSON/Tinted handler\) with output to custom io.Writer

<a name="NewEx"></a>
### func [NewEx](<https://github.com/azorg/xlog/blob/main/setup.go#L71>)

```go
func NewEx(conf Conf, writer Writer) *Logger
```

Create new configured structured logger with custom Writer

<a name="X"></a>
### func [X](<https://github.com/azorg/xlog/blob/main/logger.go#L50>)

```go
func X(logger *slog.Logger) *Logger
```

Create Logger based on \*slog.Logger \(\*slog.Logger \-\> Logger\)

<a name="Logger.Crit"></a>
### func \(\*Logger\) [Crit](<https://github.com/azorg/xlog/blob/main/logger.go#L225>)

```go
func (x *Logger) Crit(msg string, args ...any)
```

Crit logs at LevelCritical

<a name="Logger.Critf"></a>
### func \(\*Logger\) [Critf](<https://github.com/azorg/xlog/blob/main/logger.go#L339>)

```go
func (x *Logger) Critf(format string, args ...any)
```

Critf logs at LevelCritical as standard logger

<a name="Logger.Debug"></a>
### func \(\*Logger\) [Debug](<https://github.com/azorg/xlog/blob/main/logger.go#L175>)

```go
func (x *Logger) Debug(msg string, args ...any)
```

Debug logs at LevelDebug

<a name="Logger.Debugf"></a>
### func \(\*Logger\) [Debugf](<https://github.com/azorg/xlog/blob/main/logger.go#L289>)

```go
func (x *Logger) Debugf(format string, args ...any)
```

Debugf logs at LevelDebug as standard logger

<a name="Logger.Error"></a>
### func \(\*Logger\) [Error](<https://github.com/azorg/xlog/blob/main/logger.go#L215>)

```go
func (x *Logger) Error(msg string, args ...any)
```

Error logs at LevelError

<a name="Logger.Errorf"></a>
### func \(\*Logger\) [Errorf](<https://github.com/azorg/xlog/blob/main/logger.go#L329>)

```go
func (x *Logger) Errorf(format string, args ...any)
```

Errorf logs at LevelError as standard logger

<a name="Logger.Fatal"></a>
### func \(\*Logger\) [Fatal](<https://github.com/azorg/xlog/blob/main/logger.go#L235>)

```go
func (x *Logger) Fatal(msg string, args ...any)
```

Fatal logs at LevelFatal and os.Exit\(1\)

<a name="Logger.Fatalf"></a>
### func \(\*Logger\) [Fatalf](<https://github.com/azorg/xlog/blob/main/logger.go#L349>)

```go
func (x *Logger) Fatalf(format string, args ...any)
```

Fatalf logs at LevelFatal as standard logger and os.Exit\(1\)

<a name="Logger.Flood"></a>
### func \(\*Logger\) [Flood](<https://github.com/azorg/xlog/blob/main/logger.go#L155>)

```go
func (x *Logger) Flood(msg string, args ...any)
```

Flood logs at LevelFlood

<a name="Logger.Floodf"></a>
### func \(\*Logger\) [Floodf](<https://github.com/azorg/xlog/blob/main/logger.go#L269>)

```go
func (x *Logger) Floodf(format string, args ...any)
```

Floodf logs at LevelFlood as standard logger

<a name="Logger.GetLevel"></a>
### func \(\*Logger\) [GetLevel](<https://github.com/azorg/xlog/blob/main/logger.go#L113>)

```go
func (x *Logger) GetLevel() slog.Level
```

Return log level as int \(slog.Level\)

<a name="Logger.GetLvl"></a>
### func \(\*Logger\) [GetLvl](<https://github.com/azorg/xlog/blob/main/logger.go#L119>)

```go
func (x *Logger) GetLvl() string
```

Return log level as string

<a name="Logger.Info"></a>
### func \(\*Logger\) [Info](<https://github.com/azorg/xlog/blob/main/logger.go#L185>)

```go
func (x *Logger) Info(msg string, args ...any)
```

Info logs at LevelInfo

<a name="Logger.Infof"></a>
### func \(\*Logger\) [Infof](<https://github.com/azorg/xlog/blob/main/logger.go#L299>)

```go
func (x *Logger) Infof(format string, args ...any)
```

Infof logs at LevelInfo as standard logger

<a name="Logger.Log"></a>
### func \(\*Logger\) [Log](<https://github.com/azorg/xlog/blob/main/logger.go#L145>)

```go
func (x *Logger) Log(level slog.Level, msg string, args ...any)
```

Log logs at given level

<a name="Logger.Logf"></a>
### func \(\*Logger\) [Logf](<https://github.com/azorg/xlog/blob/main/logger.go#L259>)

```go
func (x *Logger) Logf(level slog.Level, format string, args ...any)
```

Logf logs at given level as standard logger

<a name="Logger.NewLog"></a>
### func \(\*Logger\) [NewLog](<https://github.com/azorg/xlog/blob/main/logger.go#L125>)

```go
func (x *Logger) NewLog(prefix string) *log.Logger
```

Return standard logger with prefix

<a name="Logger.NewWriter"></a>
### func \(\*Logger\) [NewWriter](<https://github.com/azorg/xlog/blob/main/logger.go#L362>)

```go
func (x *Logger) NewWriter(level slog.Level) io.Writer
```

Create log io.Writer

<a name="Logger.Notice"></a>
### func \(\*Logger\) [Notice](<https://github.com/azorg/xlog/blob/main/logger.go#L195>)

```go
func (x *Logger) Notice(msg string, args ...any)
```

Notice logs at LevelNotice

<a name="Logger.Noticef"></a>
### func \(\*Logger\) [Noticef](<https://github.com/azorg/xlog/blob/main/logger.go#L309>)

```go
func (x *Logger) Noticef(format string, args ...any)
```

Noticef logs at LevelNotice as standard logger

<a name="Logger.Panic"></a>
### func \(\*Logger\) [Panic](<https://github.com/azorg/xlog/blob/main/logger.go#L247>)

```go
func (x *Logger) Panic(msg string)
```

Panic logs at LevelPanic and panic

<a name="Logger.SetDefault"></a>
### func \(\*Logger\) [SetDefault](<https://github.com/azorg/xlog/blob/main/logger.go#L98>)

```go
func (x *Logger) SetDefault()
```

Set logger as default logger

<a name="Logger.SetDefaultLogs"></a>
### func \(\*Logger\) [SetDefaultLogs](<https://github.com/azorg/xlog/blob/main/logger.go#L105>)

```go
func (x *Logger) SetDefaultLogs()
```

Set logger as default xlog/log/slog loggers

<a name="Logger.SetLevel"></a>
### func \(\*Logger\) [SetLevel](<https://github.com/azorg/xlog/blob/main/logger.go#L116>)

```go
func (x *Logger) SetLevel(level slog.Level)
```

Set log level as int \(slog.Level\)

<a name="Logger.SetLvl"></a>
### func \(\*Logger\) [SetLvl](<https://github.com/azorg/xlog/blob/main/logger.go#L122>)

```go
func (x *Logger) SetLvl(level string)
```

Set log level as string

<a name="Logger.Slog"></a>
### func \(\*Logger\) [Slog](<https://github.com/azorg/xlog/blob/main/logger.go#L90>)

```go
func (x *Logger) Slog() *slog.Logger
```

Extract \*slog.Logger \(\*xlog.Logger \-\> \*slog.Logger\)

<a name="Logger.Trace"></a>
### func \(\*Logger\) [Trace](<https://github.com/azorg/xlog/blob/main/logger.go#L165>)

```go
func (x *Logger) Trace(msg string, args ...any)
```

Trace logs at LevelTrace

<a name="Logger.Tracef"></a>
### func \(\*Logger\) [Tracef](<https://github.com/azorg/xlog/blob/main/logger.go#L279>)

```go
func (x *Logger) Tracef(format string, args ...any)
```

Tracef logs at LevelTrace as standard logger

<a name="Logger.Warn"></a>
### func \(\*Logger\) [Warn](<https://github.com/azorg/xlog/blob/main/logger.go#L205>)

```go
func (x *Logger) Warn(msg string, args ...any)
```

Warn logs at LevelWarn

<a name="Logger.Warnf"></a>
### func \(\*Logger\) [Warnf](<https://github.com/azorg/xlog/blob/main/logger.go#L319>)

```go
func (x *Logger) Warnf(format string, args ...any)
```

Warnf logs at LevelWarn as standard logger

<a name="Logger.With"></a>
### func \(\*Logger\) [With](<https://github.com/azorg/xlog/blob/main/logger.go#L63>)

```go
func (x *Logger) With(args ...any) *Logger
```

Create logger that includes the given attributes in each output

<a name="Logger.WithAttrs"></a>
### func \(\*Logger\) [WithAttrs](<https://github.com/azorg/xlog/blob/main/logger.go#L72>)

```go
func (x *Logger) WithAttrs(attrs []slog.Attr) *Logger
```

Create logger that includes the given attributes in each output

<a name="Logger.WithGroup"></a>
### func \(\*Logger\) [WithGroup](<https://github.com/azorg/xlog/blob/main/logger.go#L81>)

```go
func (x *Logger) WithGroup(name string) *Logger
```

Create logger that starts a group

<a name="Opt"></a>
## type [Opt](<https://github.com/azorg/xlog/blob/main/flag.go#L8-L32>)

Command line logger option structure

```go
type Opt struct {
    Level    string // -log <level>
    Pipe     string // -lpipe <pipe>
    File     string // -lfile <file>
    SLog     bool   // -slog
    JLog     bool   // -jlog
    TLog     bool   // -tlog
    Src      bool   // -lsrc
    NoSrc    bool   // -lnosrc
    Pkg      bool   // -lpkg
    NoPkg    bool   // -lnopkg
    Func     bool   // -lfunc
    NoFunc   bool   // -lnofunc
    Ext      bool   // -lext
    NoExt    bool   // -lnoext
    Time     bool   // -ltime
    NoTime   bool   // -lnotime
    TimeFmt  string // -ltimefmt <fmt>
    OnLevel  bool   // -lonlevel
    NoLevel  bool   // -lnolevel
    Color    bool   // -lcolor
    NoColor  bool   // -lnocolor
    Rotate   bool   // -lrotate
    NoRotate bool   // -lnorotate
}
```

<a name="NewOpt"></a>
### func [NewOpt](<https://github.com/azorg/xlog/blob/main/flag.go#L52>)

```go
func NewOpt() *Opt
```

Setup command line logger options Usage:

```
-log <level>        - log level (flood/trace/debug/info/notice/warm/error/critical)
-lpipe              - log pipe (stdout/stderr/null)
-lfile <file>       - log file path
-slog               - use structured text logger (slog)
-jlog               - use structured JSON logger (slog)
-tlog               - use tinted (colorized) logger (tint)
-lsrc|-lnosrc       - force on/off log source file name and line number
-lpkg|-lnopkg       - force on/off log source directory/file name and line number
-lfunc|-lnofunc     - force on/off log function name
-lext|-lnoext       - force enable/disable remove ".go" extension from source file name
-ltime|-lnotime     - force on/off timestamp
-ltimefmt <format>  - override log time format (e.g. 15:04:05.999 or TimeOnly)
-lnolevel|lonlevel  - disable/enable log level tag (~level="INFO")
-lcolor|-lnocolor   - force enable/disable tinted colors
-lrotate|-lnorotate - force on/off log rotate
```

<a name="RotateOpt"></a>
## type [RotateOpt](<https://github.com/azorg/xlog/blob/main/conf.go#L32-L59>)

Log rotate options \(delivered from lumberjack\)

```go
type RotateOpt struct {
    // Enable log rotation
    Enable bool `json:"enable"`

    // Maximum size in megabytes of the log file before it gets
    // rotated. It defaults to 100 megabytes.
    MaxSize int `json:"max-size"`

    // Maximum number of days to retain old log files based on the
    // timestamp encoded in their filename. Note that a day is defined as 24
    // hours and may not exactly correspond to calendar days due to daylight
    // savings, leap seconds, etc. The default is not to remove old log files
    // based on age.
    MaxAge int `json:"max-age"`

    // Maximum number of old log files to retain. The default/ is to retain
    // all old log files (though MaxAge may still cause them to get deleted)
    MaxBackups int `json:"max-backups"`

    // LocalTime determines if the time used for formatting the timestamps in
    // backup files is the computer's local time.  The default is to use UTC
    // time.
    LocalTime bool `json:"local-time"`

    // Compress determines if the rotated log files should be compressed
    // using gzip. The default is not to perform compression.
    Compress bool `json:"compress"`
}
```

<a name="TintHandler"></a>
## type [TintHandler](<https://github.com/azorg/xlog/blob/main/tint.go#L58-L76>)

Tinted \(colorized\) handler implements a slog.Handler

```go
type TintHandler struct {
    // contains filtered or unexported fields
}
```

<a name="NewTintHandler"></a>
### func [NewTintHandler](<https://github.com/azorg/xlog/blob/main/tint.go#L82>)

```go
func NewTintHandler(w io.Writer, opts *TintOptions) *TintHandler
```

Create new tinted \(colorized\) handler

<a name="TintHandler.Enabled"></a>
### func \(\*TintHandler\) [Enabled](<https://github.com/azorg/xlog/blob/main/tint.go#L112>)

```go
func (h *TintHandler) Enabled(_ context.Context, level slog.Level) bool
```

Enabled\(\) implements slog.Handler interface

<a name="TintHandler.Format"></a>
### func \(\*TintHandler\) [Format](<https://github.com/azorg/xlog/blob/main/tint.go#L207>)

```go
func (h *TintHandler) Format(r slog.Record) string
```

Format record to byte array

<a name="TintHandler.Handle"></a>
### func \(\*TintHandler\) [Handle](<https://github.com/azorg/xlog/blob/main/tint.go#L220>)

```go
func (h *TintHandler) Handle(ctx context.Context, r slog.Record) error
```

Handle\(\) implements slog.Handler interface

<a name="TintHandler.WithAttrs"></a>
### func \(\*TintHandler\) [WithAttrs](<https://github.com/azorg/xlog/blob/main/tint.go#L237>)

```go
func (h *TintHandler) WithAttrs(attrs []slog.Attr) slog.Handler
```

WithAttrs\(\) implements slog.Handler interface

<a name="TintHandler.WithGroup"></a>
### func \(\*TintHandler\) [WithGroup](<https://github.com/azorg/xlog/blob/main/tint.go#L255>)

```go
func (h *TintHandler) WithGroup(name string) slog.Handler
```

WithGroup\(\) implements slog.Handler interface

<a name="TintOptions"></a>
## type [TintOptions](<https://github.com/azorg/xlog/blob/main/tint.go#L27-L55>)



```go
type TintOptions struct {
    // Minimum level to log (Default: slog.LevelInfo)
    Level slog.Leveler

    // Enable source code location
    AddSource bool

    // Log long file path (directory + file name)
    SourceLong bool

    // Log functions name
    SourceFunc bool

    // Remove ".go" extension from file name
    NoExt bool

    // Off level keys
    NoLevel bool

    // Time format
    TimeFormat string

    // Disable color
    NoColor bool

    // ReplaceAttr is called to rewrite each non-group attribute before it is logged.
    // See https://pkg.go.dev/log/slog#HandlerOptions for details.
    ReplaceAttr func(groups []string, attr slog.Attr) slog.Attr
}
```

<a name="Writer"></a>
## type [Writer](<https://github.com/azorg/xlog/blob/main/writer.go#L16-L21>)

Interface of log writer

```go
type Writer interface {
    Rotable() bool // check rotation possible
    Rotate() error // rotate log
    Close() error  // close file
    io.Writer
}
```

<a name="Xlogger"></a>
## type [Xlogger](<https://github.com/azorg/xlog/blob/main/interface.go#L14-L122>)

Logger interface

```go
type Xlogger interface {
    // Create Logger that includes the given attributes in each output
    With(args ...any) *Logger

    // Create logger that includes the given attributes in each output
    WithAttrs(attrs []slog.Attr) *Logger

    // Create logger that starts a group
    WithGroup(name string) *Logger

    // Extract *slog.Logger (*xlog.Logger -> *slog.Logger)
    Slog() *slog.Logger

    // Set logger as default xlog logger
    SetDefault()

    // Set logger as default xlog/log/slog loggers
    SetDefaultLogs()

    // Return log level as int (slog.Level)
    GetLevel() slog.Level

    // Set log level as int (slog.Level)
    SetLevel(level slog.Level)

    // Return log level as string
    GetLvl() string

    // Set log level as string
    SetLvl(level string)

    // Return standard logger with prefix
    NewLog(prefix string) *log.Logger

    // Log logs at given level
    Log(level slog.Level, msg string, args ...any)

    // Flood logs at LevelFlood
    Flood(msg string, args ...any)

    // Trace logs at LevelTrace
    Trace(msg string, args ...any)

    // Debug logs at LevelDebug
    Debug(msg string, args ...any)

    // Info logs at LevelInfo
    Info(msg string, args ...any)

    // Notice logs at LevelNotice
    Notice(msg string, args ...any)

    // Warn logs at LevelWarn
    Warn(msg string, args ...any)

    // Error logs at LevelError
    Error(msg string, args ...any)

    // Crit logs at LevelCritical
    Crit(msg string, args ...any)

    // Fatal logs at LevelFatal and os.Exit(1)
    Fatal(msg string, args ...any)

    // Panic logs at LevelPanic and panic
    Panic(msg string)

    // Logf logs at given level as standard logger
    Logf(level slog.Level, format string, args ...any)

    // Floodf logs at LevelFlood as standard logger
    Floodf(format string, args ...any)

    // Tracef logs at LevelTrace as standard logger
    Tracef(format string, args ...any)

    // Debugf logs at LevelDebug as standard logger
    Debugf(format string, args ...any)

    // Infof logs at LevelInfo as standard logger
    Infof(format string, args ...any)

    // Noticef logs at LevelNotice as standard logger
    Noticef(format string, args ...any)

    // Warnf logs at LevelWarn as standard logger
    Warnf(format string, args ...any)

    // Errorf logs at LevelError as standard logger
    Errorf(format string, args ...any)

    // Critf logs at LevelCritical as standard logger
    Critf(format string, args ...any)

    // Fatalf logs at LevelFatal as standard logger and os.Exit(1)
    Fatalf(format string, args ...any)

    // Check log rotation possible
    Rotable() bool

    // Close the existing log file and immediately create a new one
    Rotate() error

    // Close current log file
    Close() error

    // Create log io.Writer
    NewWriter(slog.Level) io.Writer
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
